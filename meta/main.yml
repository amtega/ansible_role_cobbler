---
# Role dependencies

galaxy_info:
  author: Juan Antonio Valiño García
  description: Setup docker engine
  company: Amtega - Xunta de Galicia
  license: license not defined
  min_ansible_version: 2.3
  platforms:
  - name: Fedora
    versions:
    - 25
  - name: EL
    versions:
    - 6
    - 7
  galaxy_tags:
    - cobbler

dependencies:
  - role: gnu_linux

  - role: epel_repository

  #
  # - role: selinux
  #   selinux_mode: disabled

  - role: xinetd_service
    xinetd_service_name: tftp
    xinetd_service_id: tftp
    xinetd_service_package: tftp-server
    xinetd_service_disable: no
    xinetd_service_socket_type: dgram
    xinetd_service_protocol: udp
    xinetd_service_wait: yes
    xinetd_service_user: root
    xinetd_service_server: /usr/sbin/in.tftpd
    xinetd_service_server_args: "-B 1380 -v -s /var/lib/tftpboot"
    xinetd_service_per_source: 11
    xinetd_service_cps: "100 2"
    xinetd_service_flags: IPv4

  - role: xinetd_service
    xinetd_service_name: rsync
    xinetd_service_id: rsync
    xinetd_service_package: rsync
    xinetd_service_disable: no
    xinetd_service_socket_type: stream
    xinetd_service_protocol: tcp
    xinetd_service_wait: no
    xinetd_service_user: root
    xinetd_service_server: /usr/bin/rsync
    xinetd_service_server_args: "--daemon"
    xinetd_service_flags: IPv4
    when: ansible_distribution_major_version == "6"
